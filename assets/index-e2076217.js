import{d as G,C as Se,aC as me,Q as he,r as N,aZ as Ve,a_ as xe,ar as Me,a$ as Ue,b as U,D as ve,i as s,a2 as Ee,o as u,c as m,h as b,s as k,a as c,n as i,t as X,aG as H,a5 as Ie,aI as Re,_ as J,k as j,F as $,g as O,ah as P,x as A,v as L,q as be,a1 as fe,b0 as qe,m as ie,w as Y,l as Be,b1 as Ae,b2 as Oe,j as w,H as ce,b3 as Ne,B as Q,S as de,a4 as ue,ap as pe}from"./index-6367d8ff.js";import{C as W}from"./index-51011b71.js";import{_ as Pe,a as je}from"./index-bbe23418.js";import{_ as _e}from"./index-456889fa.js";import{I as De,v as Le,a as Xe}from"./index-543c47ea.js";import{R as ee}from"./index-60afbd63.js";import{c as Ze,r as Fe}from"./index-9268c079.js";import"./index-55204b2b.js";import"./index-464983bd.js";const Ye=V=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(V);{const f=document.createElement("textarea");f.value=V,f.style.position="absolute",f.style.left="-999999px",f.style.width="0px",f.style.height="0px",f.style.opacity="0",document.body.prepend(f),f.select();try{return document.execCommand("copy"),f.remove(),Promise.resolve(null)}catch(v){return f.remove(),Promise.reject(v)}}},He=["for","data-state"],Ge=["id","value","placeholder"],Je=G({__name:"InputTextarea",props:Se({modelValue:{},placeholder:{},maskOptions:{},modelModifiers:{},pseudoFocused:{type:Boolean},expandable:{type:Boolean},rows:{},textareaStyle:{}},De),emits:["update:modelValue"],setup(V,{emit:f}){me(_=>({"0ab3217a":s(g)}));const v=V,n=f,{maskOptions:C,modelModifiers:d,pseudoFocused:T,rows:g}=he(v),z=N(!1),E=Ve(C),S=xe(E),D=Me(),R=Ue(d.value),x=Re(),l=U(()=>T.value||S.value),r={onEvent:_=>{z.value=_}},o=U(()=>{if(D.value)return"invalid";if(l.value)return"focus";if(z.value)return"hover"}),p=_=>{const q=_.target.value;n("update:modelValue",R.modify(q))};return(_,I)=>ve((u(),m("label",{for:s(x),class:i(_.$style.label),"data-state":o.value},[b(s(Ie),{class:i([_.$style.scroller,_.expandable&&_.$style.scroller_expandable])},{default:k(()=>[c("div",{class:i(_.$style.wrapper)},[c("div",{class:i(_.$style.ghost),"aria-hidden":"true"},[c("span",null,X(_.modelValue),1),c("span",{class:i(_.$style.carret)},null,2)],2),c("textarea",{id:s(x),ref_key:"maskitoNative",ref:E,value:_.modelValue||"",class:i(_.$style.native),placeholder:_.placeholder,style:H(_.textareaStyle),onInput:p},null,46,Ge)],2)]),_:1},8,["class"])],10,He)),[[s(Ee),r]])}}),Ke="_label_1n3jp_1",Qe="_scroller_1n3jp_26",We="_scroller_expandable_1n3jp_31",et="_carret_1n3jp_35",tt="_wrapper_1n3jp_41",at="_ghost_1n3jp_46",st="_native_1n3jp_54",ot={label:Ke,scroller:Qe,scroller_expandable:We,carret:et,wrapper:tt,ghost:at,native:st},lt={$style:ot},nt=J(Je,[["__cssModules",lt]]),rt=["data-round"],it=["data-before"],ct=["data-after"],dt=["data-after","data-placeholder"],ut=G({__name:"Table",props:{label:{},round:{},placeholder:{},before:{},after:{},width:{},height:{},seats:{}},setup(V){me(l=>({"2d6ea039":s(v),"66966d14":s(n)}));const f=V,{width:v,height:n,round:C,seats:d}=he(f),T=U(()=>new Array(n.value).fill("")),g=U(()=>new Array(v.value).fill("")),z=U(()=>g.value.length),E=U(()=>g.value.length+g.value.length),S=U(()=>g.value.length+g.value.length+T.value.length),D=U(()=>{const l=d.value,M=v.value*16+8,r=[],o=2*Math.PI/l.length;for(let p=0;p<l.length;p++){const _=o*p,I=M-8+M*Math.cos(_),q=M-8+M*Math.sin(_),B=_*180/Math.PI+90;r.push({style:{left:`${I}px`,top:`${q}px`,transform:`translate(-50%, -50%) rotate(${B}deg)`}})}return r}),R=U(()=>{const l=z.value,M=d.value;return g.value.findIndex((o,p)=>!!M[p+l])!==-1}),x=U(()=>{const l=d.value;return g.value.findIndex((r,o)=>!!l[o])!==-1});return(l,M)=>(u(),m("div",{class:i(l.$style.table),"data-round":s(C)},[l.before?(u(),m("span",{key:0,class:i(l.$style.table__before),"data-before":x.value},X(l.before),11,it)):j("",!0),c("div",{class:i(l.$style.table__label)},[c("span",null,X(l.label),1)],2),l.after?(u(),m("span",{key:1,class:i(l.$style.table__after),"data-after":R.value},X(l.after),11,ct)):j("",!0),l.placeholder?(u(),m("span",{key:2,class:i(l.$style.table__placeholder),"data-after":R.value,"data-placeholder":!!l.after},X(l.placeholder),11,dt)):j("",!0),s(C)!=="l"?(u(),m($,{key:3},[c("div",{class:i([l.$style.chairs,l.$style.chairs_top])},[(u(!0),m($,null,O(g.value,(r,o)=>(u(),m($,{key:o},[s(d)[o]?(u(),m("div",{key:0,class:i(l.$style.chairs__item)},[P(l.$slots,"default",{index:o,abs:!0})],2)):P(l.$slots,"default",{key:1,index:o})],64))),128))],2),c("div",{class:i([l.$style.chairs,l.$style.chairs_bottom])},[(u(!0),m($,null,O(g.value,(r,o)=>(u(),m($,{key:o},[s(d)[o+z.value]?(u(),m("div",{key:0,class:i(l.$style.chairs__item)},[P(l.$slots,"default",{index:o+z.value,abs:!0})],2)):P(l.$slots,"default",{key:1,index:o+z.value})],64))),128))],2),c("div",{class:i([l.$style.chairs,l.$style.chairs_left])},[(u(!0),m($,null,O(T.value,(r,o)=>(u(),m($,{key:o},[s(d)[o+E.value]?(u(),m("div",{key:0,class:i(l.$style.chairs__item)},[P(l.$slots,"default",{index:o+E.value,abs:!0})],2)):P(l.$slots,"default",{key:1,index:o+E.value})],64))),128))],2),c("div",{class:i([l.$style.chairs,l.$style.chairs_right])},[(u(!0),m($,null,O(T.value,(r,o)=>(u(),m($,{key:o},[s(d)[o+S.value]?(u(),m("div",{key:0,class:i(l.$style.chairs__item)},[P(l.$slots,"default",{index:o+S.value,abs:!0})],2)):P(l.$slots,"default",{key:1,index:o+S.value})],64))),128))],2)],64)):(u(),m("div",{key:4,class:i(l.$style.round)},[(u(!0),m($,null,O(D.value,(r,o)=>(u(),m("div",{key:o,style:H(r.style),class:i([l.$style.chairs__item,l.$style.chairs__item_round])},null,6))),128)),P(l.$slots,"default",{index:D.value.length})],2))],10,rt))}}),pt="_table_1h5qc_1",_t="_table__label_1h5qc_16",mt="_table__placeholder_1h5qc_25",ht="_table__before_1h5qc_43",vt="_table__after_1h5qc_57",bt="_round_1h5qc_73",ft="_chairs_1h5qc_82",yt="_chairs__content_1h5qc_91",gt="_chairs_top_1h5qc_96",kt="_chairs_bottom_1h5qc_102",$t="_chairs__item_1h5qc_108",wt="_chairs_left_1h5qc_111",Ct="_chairs_right_1h5qc_122",Tt="_chairs__item_round_1h5qc_146",zt={table:pt,table__label:_t,table__placeholder:mt,table__before:ht,table__after:vt,round:bt,chairs:ft,chairs__content:yt,chairs_top:gt,chairs_bottom:kt,chairs__item:$t,chairs_left:wt,chairs_right:Ct,chairs__item_round:Tt},St={$style:zt},ye=J(ut,[["__cssModules",St]]),Vt=["data-id","data-active"],xt=["data-center","data-abs"],Mt=G({__name:"TableEditor",props:{id:{},active:{type:Boolean},label:{},placeholder:{},round:{},lock:{type:Boolean},width:{},height:{},seats:{}},emits:["drag","resize","toggleSeat","removeChair"],setup(V,{emit:f}){const v=N(null),n=f,C=d=>{n("drag",{currentTarget:v.value,clientX:d.clientX,clientY:d.clientY})};return(d,T)=>(u(),m("button",{ref_key:"elRef",ref:v,type:"button","data-id":d.id,"data-active":d.active,class:i(d.$style.table)},[b(ye,{seats:d.seats,label:d.label,round:d.round,placeholder:d.placeholder,before:"До 99:99",after:"След 99:99",width:d.width,height:d.height},{default:k(({index:g,abs:z})=>[d.lock?j("",!0):(u(),m("div",{key:0,class:i(d.$style.toggleButton),"data-center":d.round==="l","data-abs":z},[b(s(A),{"icon-button":"",appearance:"flat",size:d.round==="l"?"s":"xs",icon:d.seats[g]?"minus":"plus",onClick:L(E=>n("toggleSeat",g),["stop","prevent"])},null,8,["size","icon","onClick"]),d.round==="l"?(u(),be(s(A),{key:0,"icon-button":"",appearance:"flat",icon:"minus",size:d.round==="l"?"s":"xs",onClick:T[0]||(T[0]=L(E=>n("removeChair"),["stop","prevent"]))},null,8,["size"])):j("",!0)],10,xt))]),_:1},8,["seats","label","round","placeholder","width","height"]),d.lock?j("",!0):(u(),m("div",{key:0,class:i(d.$style.grip),onMousedown:L(C,["stop","prevent"])},[b(s(fe),{name:"grip"})],34)),d.lock?j("",!0):(u(),m("div",{key:1,class:i([d.$style.resize,d.$style.resize_w]),onMousedown:T[1]||(T[1]=L(g=>n("resize",{mode:"w",event:g}),["stop","prevent"]))},null,34)),d.lock?j("",!0):(u(),m("div",{key:2,class:i([d.$style.resize,d.$style.resize_h]),onMousedown:T[2]||(T[2]=L(g=>n("resize",{mode:"h",event:g}),["stop","prevent"]))},null,34))],10,Vt))}}),Ut="_table_hnv0d_1",Et="_grip_hnv0d_19",It="_resize_hnv0d_34",Rt="_resize_w_hnv0d_40",qt="_resize_h_hnv0d_47",Bt="_toggleButton_hnv0d_60",At={table:Ut,grip:Et,resize:It,resize_w:Rt,resize_h:qt,toggleButton:Bt},Ot={$style:At},Nt=J(Mt,[["__cssModules",Ot]]),Pt="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",jt=/[xy]/g;function Dt(){let V=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(V+=performance.now()),Pt.replace(jt,f=>{const v=(V+Math.random()*16)%16|0;return V=Math.floor(V/16),(f==="x"?v:v&3|8).toString(16)})}let Lt=1;const Xt=qe("useScheme",()=>{const V=localStorage.getItem("__ark-supra-rest-scheme")||"{}";let f;try{f=JSON.parse(V)}catch{}const v=N(Object.keys(f)[0]??""),n=ie(f),C=ie({}),d=U(()=>(n[v.value]||[]).map(o=>({attrs:o,style:{left:`${32*o.col}px`,top:`${32*o.row}px`}}))),T=U(()=>{const r=n[v.value]||[];return Object.keys(C).filter(p=>C[p]).length>0?r.filter(p=>C[p.id]):r}),g=U(()=>Object.values(n).reduce((r,o)=>(o.forEach(p=>{r[p.id]=p}),r),{})),z=(r,o,p)=>{const _=Dt(),I={...p,label:`${Lt++}`,id:_,row:r,col:o,width:p.width??2,height:p.height??2,seats:p.seats??[],capacity:p.capacity??0,maxCapacity:p.maxCapacity??0,lock:!1,booking:!0,queue:!0};n[v.value]=(n[v.value]??[]).concat(I)},E=r=>{C[r]=!C[r]},S=(r,o,p)=>{n[v.value]=(n[v.value]??[]).map(_=>{if(_.id===r){if(o==="width"||o==="height"){_.round==="l"&&(_.width=p,_.height=p);const I=(o==="width"?p:_.width)*2+(o==="height"?p:_.height)*2,q=_.seats.slice(0,I);return{..._,seats:q,capacity:q.filter(Boolean).length,[o]:p}}return{..._,[o]:p}}return _})},D=(r,o)=>{const p=g.value[r];if(!p)return;let _=0;p.seats.forEach((B,Z)=>{B&&(_=Z)});const I=new Array(Math.max(_,o)+1).fill("").map((B,Z)=>Z===o?p.seats[Z]?null:{type:"chair"}:p.seats[Z]??null),q=I.filter(Boolean).length;n[v.value]=n[v.value].map(B=>B.id===r?{...B,capacity:q,maxCapacity:Math.max(q,B.capacity),seats:I}:B)},R=r=>{n[v.value]=(n[v.value]??[]).filter(o=>o.id!==r),delete C[r]},x=r=>{n[v.value]=(n[v.value]??[]).map(o=>{if(o.id===r){const p=o.seats.slice(1);return{...o,capacity:p.length,maxCapacity:p.length,seats:p}}return o})},l=r=>{n[r.trim()]=[],v.value=r.trim()},M=r=>{Object.keys(n).forEach(o=>{delete n[o]}),Object.keys(r).forEach(o=>{n[o]=r[o]}),v.value=Object.keys(r)[0]};return Y(n,r=>{localStorage.setItem("__ark-supra-rest-scheme",JSON.stringify(r))}),{zones:n,activeZone:v,addZone:l,tables:d,tableBarTables:T,tableIdToTable:g,openedTables:C,toggleSeat:D,removeChair:x,setScheme:M,remove:R,newTable:z,onToggle:E,updateTable:S}}),Zt=c("h4",{class:"ark-text_h4 ark-space_bottom-1"},"Карта ресторана",-1),Ft=c("p",{class:"ark-space_bottom-4 ark-text_body-s"},"Управляйте картой ресторана",-1),Yt=c("h6",{class:"ark-text_h6 ark-space_bottom-2"},"Схема",-1),Ht=c("p",{class:"ark-space_bottom-1"},"Зоны",-1),Gt=c("h4",{class:"ark-text_h4 ark-space_bottom-4"},"Для начала создай зону",-1),Jt=c("p",{class:"ark-space_bottom-1"},"Переноси мышкой на схему",-1),Kt=["data-dragging"],Qt=["data-dragging"],Wt=["data-row","data-col"],ea=["onClick"],ta=c("h6",{class:"ark-text_h6 ark-space_bottom-2"},"Столы",-1),aa={class:"ark-text_body-xs ark-text_64 ark-space_bottom-2"},sa=c("p",{class:"ark-text_body-s ark-text_64"},"Вместимость",-1),oa={class:"ark-group ark-group_row"},la=c("p",{class:"ark-text_body-s ark-text_64"},"Вид стола",-1),na=c("h6",{class:"ark-text_h6 ark-space_bottom-6"},"Создание новой зоны",-1),ra=c("h6",{class:"ark-text_h6 ark-space_bottom-6"},"Вставь схему в поле ниже",-1),ia=G({__name:"Scheme",props:{id:{}},setup(V){const f=N({scale:1,translate:{x:0,y:0},deg:0}),v=Be(),n=Xt(),{tables:C,tableBarTables:d,openedTables:T,tableIdToTable:g,zones:z,activeZone:E}=Ae(n),S=N(null),D=Oe(),R=N(!1),x=N(!1),l=N(!1),M=N(""),r=Ze({zone:["",{required:Fe}]}),o=U(()=>{const t=r.zone.value.value.trim();return Object.keys(z.value).find(a=>a===t)?{zone:"Зона с таким названием уже существует"}:null});Y(x,t=>{t&&r.zone.setValue("Новая зона")});const p=[{label:"Стол",width:2,height:2,capacity:2,maxCapacity:2,seats:[{type:"chair"},null,{type:"chair"}]},{label:"Стол",width:2,height:2,capacity:4,maxCapacity:4,seats:[null,null,null,null,{type:"chair"},{type:"chair"},{type:"chair"},{type:"chair"}]},{label:"Стол",width:2,height:2,capacity:4,maxCapacity:4,seats:new Array(4).fill({type:"chair"})},{label:"Стол",width:3,height:2,capacity:12,maxCapacity:12,seats:new Array(12).fill({type:"chair"})},{label:"Стол",width:2,height:2,round:"l",capacity:5,maxCapacity:5,seats:new Array(5).fill({type:"chair"})},{label:"Стол",width:2,height:2,round:"l",capacity:6,maxCapacity:6,seats:new Array(6).fill({type:"chair"})}],_=()=>{f.value={scale:1,translate:{x:0,y:0},deg:0}},I=(t,a)=>{const e=t.currentTarget;e&&(R.value=!1,e.getAttribute("data-id")?S.value={attributes:a,id:e.getAttribute("data-id"),element:e,startPos:{x:t.clientX-32,y:t.clientY-32}}:S.value={attributes:a,id:"",element:e.cloneNode(!0),startPos:{x:t.clientX-32,y:t.clientY-32}})},q=t=>{const a=document.elementFromPoint(t.clientX,t.clientY);if(a&&a.getAttribute("cell")===""){const e=a.getBoundingClientRect(),y=Number(a.getAttribute("data-row")),h=Number(a.getAttribute("data-col"));return{row:y,col:h,x:e.x,y:e.y}}return{row:-1,col:-1,x:t.clientX-32,y:t.clientY-32}},B=(t,a)=>{n.toggleSeat(t,a)},Z=()=>{if(r.validate(),r.invalid.value||o.value)return;const{zone:t}=r.getCurrentValue();n.addZone(t),x.value=!1},te=t=>{const a=S.value;if(!a)return;R.value=!0;const e=q(t);if(a.id&&e.row!==-1&&e.col!==-1){const y=g.value[a.id];if(!y)return;y.row!==e.row&&n.updateTable(a.id,"row",e.row),y.col!==e.col&&n.updateTable(a.id,"col",e.col)}else a.element.style.left=`${e.x}px`,a.element.style.top=`${e.y}px`},ge=()=>{Ye(JSON.stringify(z.value)).then(()=>{v.show("Схема скопирована в буффер обмена")}).catch(()=>{v.show("Не удалось экспортировать схему")})},ke=()=>{const t=M.value;let a;try{a=JSON.parse(t)}catch{}a?(l.value=!1,n.setScheme(a)):v.show("Не удалось распознать схему")},ae=t=>{const a=document.elementFromPoint(t.clientX,t.clientY),e=S.value;if(e&&a&&a.getAttribute("cell")===""&&R.value){const y=Number(a.getAttribute("data-row")),h=Number(a.getAttribute("data-col"));if(e.id){const K=g.value[e.id];if(!K)return;K.row!==y&&n.updateTable(e.id,"row",y),K.col!==h&&n.updateTable(e.id,"col",h)}else n.newTable(y,h,e.attributes)}R.value=!1,S.value=null};Y(S,(t,a,e)=>{e(()=>{t&&!t.id&&document.body.removeChild(t.element),document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ae)}),t&&(t.id||(document.body.append(t.element),t.element.classList.add(D.clonned)),t.element.style.left=`${t.startPos.x}px`,t.element.style.top=`${t.startPos.y}px`,document.addEventListener("mousemove",te),document.addEventListener("mouseup",ae))},{immediate:!0});const F=N(null),$e=(t,a)=>{const e=g.value[t];e&&(F.value={mode:a.mode,id:t,height:e.height,width:e.width,start:{x:a.event.clientX,y:a.event.clientY}})};let se=0;const oe=t=>{const a=F.value;if(!a)return;const e=Math.trunc((t.clientY-a.start.y)/32);se!==e&&(n.updateTable(a.id,"height",pe(a.height+e,1,1/0)),se=e)};let le=0;const ne=t=>{const a=F.value;if(!a)return;const e=Math.trunc((t.clientX-a.start.x)/32);le!==e&&(n.updateTable(a.id,"width",pe(a.width+e,1,1/0)),le=e)},re=()=>{F.value=null},we=U(()=>{const t=f.value;return{position:"relative",display:"inline-flex",transition:"",transformOrigin:"0 0",transform:`translate(${t.translate.x}px, ${t.translate.y}px) scale(${t.scale})`}}),Ce=([t,a])=>{const e=f.value.translate;f.value={...f.value,translate:{x:e.x+t,y:e.y+a}}},Te={matrix:f,onEvent:(t,a,e)=>{const y=f.value;f.value={...y,scale:t,translate:{x:a,y:e}}},onRelease:()=>{}},ze={onEvent:Ce,onPanning:()=>{}};return Y(F,(t,a,e)=>{e(()=>{document.removeEventListener("mousemove",ne),document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",re)}),t&&(t.mode==="w"?document.addEventListener("mousemove",ne):document.addEventListener("mousemove",oe),document.addEventListener("mouseup",re))},{immediate:!0}),(t,a)=>(u(),m($,null,[Zt,Ft,c("div",{class:i(t.$style.container)},[c("div",{class:i(t.$style.scheme)},[Yt,Ht,c("div",{class:i(["ark-space_bottom-4",t.$style.buttons])},[(u(!0),m($,null,O(s(z),(e,y)=>(u(),be(s(A),{key:y,size:"s",appearance:s(E)===y?"primary":"neutral",onClick:h=>E.value=y},{default:k(()=>[w(X(y),1)]),_:2},1032,["appearance","onClick"]))),128)),b(s(A),{icon:"plus",size:"s",appearance:"flat",onClick:a[0]||(a[0]=e=>x.value=!x.value)},{default:k(()=>[w(" Добавить ")]),_:1})],2),c("div",{class:i(["ark-space_bottom-4",t.$style.buttons])},[b(s(A),{appearance:"neutral",icon:"download",onClick:ge},{default:k(()=>[w(" Экспорт схемы ресторана ")]),_:1}),b(s(A),{appearance:"neutral",icon:"download",rotate:"",onClick:a[1]||(a[1]=e=>l.value=!l.value)},{default:k(()=>[w(" Загрузка схемы ")]),_:1})],2),Object.keys(s(z)||{}).length===0?(u(),m($,{key:0},[Gt,b(s(A),{onClick:a[2]||(a[2]=e=>x.value=!x.value)},{default:k(()=>[w("Создать")]),_:1})],64)):(u(),m($,{key:1},[Jt,c("div",{class:i(["ark-space_bottom-4",t.$style.row]),style:{gap:"2rem",padding:"1rem 0","pointer-events":"auto"}},[(u(),m($,null,O(p,(e,y)=>b(ye,ce({key:y,ref_for:!0},e,{onMousedown:h=>I(h,e)}),null,16,["onMousedown"])),64))],2),ve((u(),m("div",{class:i(t.$style.floor)},[c("div",{class:i(t.$style.content)},[c("div",{class:i(t.$style.content__inside),"data-dragging":!!S.value,style:H(we.value)},[(u(),m($,null,O(30,e=>c("div",{key:e,class:i(t.$style.row),"data-dragging":!!S.value},[(u(),m($,null,O(50,y=>c("div",{key:y,cell:"","data-row":e-1,"data-col":y-1,class:i(t.$style.cell)},null,10,Wt)),64))],10,Qt)),64)),(u(!0),m($,null,O(s(C),(e,y)=>(u(),m("div",{key:y,class:i(t.$style.binded),style:H(e.style),onPointerdown:a[3]||(a[3]=L(()=>{},["stop"])),onMousedown:a[4]||(a[4]=L(()=>{},["prevent","stop"])),onClick:h=>s(n).onToggle(e.attrs.id)},[b(Nt,ce({ref_for:!0},e.attrs,{active:s(T)[e.attrs.id],onDrag:h=>I(h,e.attrs),onResize:h=>$e(e.attrs.id,h),onToggleSeat:h=>B(e.attrs.id,h),onRemoveChair:h=>s(n).removeChair(e.attrs.id)}),null,16,["active","onDrag","onResize","onToggleSeat","onRemoveChair"])],46,ea))),128))],14,Kt)],2),c("div",{class:i(t.$style.cross)},[b(s(A),{"icon-button":"",appearance:"neutral",shape:"square",onClick:_},{icon:k(()=>[b(s(fe),{name:"cross"})]),_:1})],2)],2)),[[s(Ne)],[s(Le),ze],[s(Xe),Te]])],64))],2),c("div",{class:i(t.$style.tables)},[ta,(u(!0),m($,null,O(s(d),(e,y)=>(u(),m("div",{key:y,class:i(t.$style.table)},[c("p",{class:i(["ark-text_body-m ark-text_semibold",t.$style.table__header])},[w(" Стол "+X(e.label)+" ",1),b(s(W),{"model-value":e.lock,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"lock",h)},{default:k(()=>[w(" Блок ")]),_:2},1032,["model-value","onUpdate:modelValue"])],2),c("p",aa,X(e.id),1),e.lock?j("",!0):(u(),m($,{key:0},[b(s(Q),{label:"Номер стола",class:"ark-space_bottom-2","model-value":e.label,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"label",h)},null,8,["model-value","onUpdate:modelValue"]),sa,c("div",oa,[b(s(_e),{class:"ark-space_bottom-2",readonly:"",label:"Мин",style:{flex:"1"},"model-value":e.capacity},null,8,["model-value"]),b(s(_e),{class:"ark-space_bottom-2",label:"Макс",style:{flex:"1"},min:e.capacity,"model-value":e.maxCapacity,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"maxCapacity",h)},null,8,["min","model-value","onUpdate:modelValue"])]),c("div",{class:i(["ark-space_bottom-2",t.$style.recolor])},[la,b(s(ee),{"hide-radio":"",size:"s","model-value":e.round,name:"round",item:void 0,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"round",h)},{default:k(()=>[w(" Квадрат ")]),_:2},1032,["model-value","onUpdate:modelValue"]),b(s(ee),{"hide-radio":"",size:"s","model-value":e.round,name:"round",item:"m","onUpdate:modelValue":h=>s(n).updateTable(e.id,"round",h)},{default:k(()=>[w(" Овал ")]),_:2},1032,["model-value","onUpdate:modelValue"]),b(s(ee),{"hide-radio":"",size:"s","model-value":e.round,name:"round",item:"l","onUpdate:modelValue":h=>s(n).updateTable(e.id,"round",h)},{default:k(()=>[w(" Круг ")]),_:2},1032,["model-value","onUpdate:modelValue"])],2),b(s(Q),{label:"Подпись",class:"ark-space_bottom-2","model-value":e.placeholder,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"placeholder",h)},null,8,["model-value","onUpdate:modelValue"]),c("div",null,[b(s(W),{"model-value":e.booking,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"booking",h)},{default:k(()=>[w(" Бронирования ")]),_:2},1032,["model-value","onUpdate:modelValue"])]),c("div",null,[b(s(W),{"model-value":e.queue,"onUpdate:modelValue":h=>s(n).updateTable(e.id,"queue",h)},{default:k(()=>[w(" Очередь ")]),_:2},1032,["model-value","onUpdate:modelValue"])]),b(s(A),{appearance:"danger",class:"ark-space_top-4",onClick:h=>s(n).remove(e.id)},{default:k(()=>[w(" Удалить ")]),_:2},1032,["onClick"])],64))],2))),128))],2)],2),b(s(ue),{modelValue:x.value,"onUpdate:modelValue":a[5]||(a[5]=e=>x.value=e)},{default:k(()=>[na,c("div",{class:i(["ark-space_bottom-4",t.$style.notification])},[b(s(de),{name:"warning",style:{color:"var(--ark-warning-fill)"}}),w(" После создания изменить название нельзя ")],2),c("form",{onSubmit:L(Z,["prevent"])},[b(s(Pe),{class:"ark-space_bottom-6",control:s(r).zone},{default:k(({model:e})=>[b(s(Q),{modelValue:e.value,"onUpdate:modelValue":y=>e.value=y,label:"Название",size:"l",invalid:!!o.value},null,8,["modelValue","onUpdate:modelValue","invalid"]),b(s(je),{error:o.value},null,8,["error"])]),_:1},8,["control"]),b(s(A),{size:"l",type:"submit"},{default:k(()=>[w("Создать")]),_:1})],32)]),_:1},8,["modelValue"]),b(s(ue),{modelValue:l.value,"onUpdate:modelValue":a[7]||(a[7]=e=>l.value=e)},{default:k(()=>[ra,c("div",{class:i(["ark-space_bottom-4",t.$style.notification])},[b(s(de),{name:"warning",style:{color:"var(--ark-warning-fill)"}}),w(' Новая схема перетерет текущую после нажатия "Применить" ')],2),b(s(nt),{modelValue:M.value,"onUpdate:modelValue":a[6]||(a[6]=e=>M.value=e)},null,8,["modelValue"]),b(s(A),{onClick:ke},{default:k(()=>[w("Применить")]),_:1})]),_:1},8,["modelValue"])],64))}}),ca="_container_1vd9s_1",da="_scheme_1vd9s_8",ua="_cross_1vd9s_14",pa="_tables_1vd9s_20",_a="_floor_1vd9s_27",ma="_content_1vd9s_37",ha="_content__inside_1vd9s_43",va="_row_1vd9s_52",ba="_binded_1vd9s_60",fa="_cell_1vd9s_66",ya="_clonned_1vd9s_72",ga="_tablebarRoot_1vd9s_78",ka="_tablebarContent_1vd9s_85",$a="_buttons_1vd9s_93",wa="_table_1vd9s_20",Ca="_table__header_1vd9s_104",Ta="_recolor_1vd9s_113",za="_notification_1vd9s_118",Sa={container:ca,scheme:da,cross:ua,tables:pa,floor:_a,content:ma,content__inside:ha,row:va,binded:ba,cell:fa,clonned:ya,tablebarRoot:ga,tablebarContent:ka,buttons:$a,table:wa,table__header:Ca,recolor:Ta,notification:za},Va={$style:Sa},Oa=J(ia,[["__cssModules",Va]]);export{Oa as default};
