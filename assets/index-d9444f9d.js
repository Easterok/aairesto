import{P as S}from"./index-f75dc1b0.js";import{d as B,a3 as w,R as L,r as g,ai as M,e as I,p as N,o as c,c as u,a as i,t as R,k as o,h as d,W as m,j as v,l as b,F as y,g as U,q as h,af as $,i as V,n as x,_ as q}from"./index-2ac84a6d.js";const A={class:"ark-space_bottom-3 ark-text_body-l-2"},P={key:0,class:"ark-text_body-s-2 ark-text_semibold ark-space_bottom-3"},z={style:{display:"flex","align-items":"center"}},F=i("p",{class:"ark-text_body-s-2"},"Размещен на:",-1),W={class:"ark-text_semibold"},j=B({__name:"SuccessBook",props:{context:{}},setup(t){const e=t,{context:s}=w(e);L(M,g(e.context.data.allTables));const a=g(150);let n=null;const l=()=>{n&&(clearInterval(n),n=null)};return I(()=>{n=setInterval(()=>{a.value=a.value-1,a.value===-1&&(l(),e.context.close())},100)}),(r,Y)=>{const E=N("RouterLink");return c(),u(y,null,[i("p",A,R(o(s).data.__frontUpdate?"Бронь обновлена, пересадили на новые столы":"Бронь добавлена"),1),i("div",null,[o(s).data.__frontUpdate?b("",!0):(c(),u("div",P,[d(m,{today:"",class:"ark-space_bottom-1",mask:"[day:numeric] [month:long] [year:numeric]",date:o(s).data.seating_time},null,8,["date"]),i("div",z,[d(m,{mask:"[hour:numeric]:[minute:numeric]",date:o(s).data.seating_time},null,8,["date"]),v(" ‐ "),d(m,{mask:"[hour:numeric]:[minute:numeric]",date:o(s).data.end_time},null,8,["date"])])])),F,i("p",W,[(c(!0),u(y,null,U(o(s).data.tables,k=>(c(),h(o($),{id:k,key:k},null,8,["id"]))),128))]),o(s).data.__newbooking?(c(),h(E,{key:1,class:x(["ark-text_body-s ark-text_semibold",r.$style.link]),to:{query:{...r.$route.query,bookingid:o(s).data.id}},onClick:o(s).close},{default:V(()=>[v(" Открыть редактирование ")]),_:1},8,["class","to","onClick"])):b("",!0)]),d(o(S),{size:"xs",class:x(r.$style.progress),value:a.value,max:150},null,8,["class","value"])],64)}}}),D="_link_gpn8l_1",H="_progress_gpn8l_6",K={link:D,progress:H},O={$style:K},et=q(j,[["__cssModules",O]]),f="ark-trigger-scroll-to-active",_=new Map;function G(t){function e(s){s.stopPropagation();const a=t.clientWidth,n=s.detail,l=n.offsetLeft,r=n.offsetTop;l>a&&t.scrollTo({left:l-52,top:r})}_.set(t,e),t.addEventListener(f,e)}function J(t){const e=_.get(t);e&&t.removeEventListener(f,e),_.delete(t)}const st={mounted:G,beforeUnmount:J},p=new Map;function T(t){const e=p.get(t);e&&clearTimeout(e),p.delete(t)}function C(t,e){if(T(t),e){const s=setTimeout(()=>{t.dispatchEvent(new CustomEvent(f,{bubbles:!0,detail:t}))},100);p.set(t,s)}}function Q(t,{value:e}){C(t,e)}function X(t,{value:e,oldValue:s,modifiers:a}){a.updated&&e!==s&&C(t,e)}const ot={mounted:Q,updated:X,beforeUnmount:T};export{et as S,ot as a,st as v};
