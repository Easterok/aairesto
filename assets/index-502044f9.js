import{I as x,d as b,B as C,r as G,o as h,q as I,G as P,k as d,z as N,a3 as $,b as v,an as A,i as V,a7 as S,aZ as K,c as L,h as _,a as k,S as g,n as Z,al as E,_ as X}from"./index-2ac84a6d.js";import{m as j,a as H,b as J}from"./index-c24d0159.js";const Q=/\d/,W=u=>u.split("").map(l=>l==="x"?Q:l),Y=["+","7",...W(" (xxx) xxx-xx-xx")];function ee(){const u=o=>o.replace(/^(\+?7?\s?8?)\s?/,""),l=o=>o.replace(/\D/g,"").length,p=(o,t)=>o?t:t==="8"?"7":t;return({elementState:o,data:t})=>{const{value:a,selection:e}=o;return{elementState:{selection:e,value:l(a)>11?u(a):a},data:l(t)>=11?u(t):p(a,t)}}}const oe={mask:Y,preprocessors:[ee()]},te={...x,autocomplete:"tel",type:"tel",name:"tel",placeholder:"+7",maskOptions:()=>oe},ce=b({name:"InputPhone",__name:"InputPhone",props:C({modelValue:{},placeholder:{},type:{},maskOptions:{},autocomplete:{},name:{},modelModifiers:{},size:{},label:{},required:{type:Boolean},inputmode:{},pseudoFocused:{type:Boolean},hasCleaner:{type:Boolean},editable:{type:Boolean},disabled:{type:Boolean},invalid:{type:Boolean},decoratorPostfix:{},readonly:{type:Boolean},focusOnClear:{type:Boolean}},te),emits:["update:modelValue","focused"],setup(u,{expose:l,emit:p}){const o=u,t=p,a=G(null),e=n=>{t("update:modelValue",n||"")};return l({focus:()=>{var n;(n=a.value)==null||n.focus()}}),(n,i)=>(h(),I(d(N),P(o,{ref_key:"inputTextRef",ref:a,inputmode:"numeric","model-value":n.modelValue,"onUpdate:modelValue":e,onFocused:i[0]||(i[0]=c=>t("focused",c))}),null,16,["model-value"]))}}),ae={...x,thousandSeparator:"",decimalSeparator:",",min:0},se=b({name:"InputNumber",__name:"InputNumber",props:C({modelValue:{},placeholder:{},type:{},maskOptions:{},autocomplete:{},name:{},modelModifiers:{},size:{},label:{},required:{type:Boolean},inputmode:{},pseudoFocused:{type:Boolean},hasCleaner:{type:Boolean},editable:{type:Boolean},disabled:{type:Boolean},invalid:{type:Boolean},decoratorPostfix:{},readonly:{type:Boolean},focusOnClear:{type:Boolean},precision:{},decimalSeparator:{},thousandSeparator:{},max:{},min:{},postfix:{}},ae),emits:["update:modelValue"],setup(u,{emit:l}){const p=u,o=l,{modelValue:t,max:a,precision:e,thousandSeparator:r,decimalSeparator:n,min:i,postfix:c}=$(p),B=v(()=>{const s=a==null?void 0:a.value,m=e==null?void 0:e.value,f=r.value,D=n.value,T=i==null?void 0:i.value,y=c==null?void 0:c.value,{plugins:F,...R}=j({min:T,max:s,precision:m,thousandSeparator:f,decimalSeparator:D,postfix:y}),U=(y==null?void 0:y.length)||0;return{...R,plugins:[...F,H(w=>[0,w.length-U])]}}),z=v(()=>{const s=t.value,m=B.value;return K(String(s??""),m)}),O=v(()=>(e==null?void 0:e.value)?"decimal":"numeric"),q=s=>{if(!s)return null;const m=n.value,f=J(s,m);return Number.isNaN(f)?null:f},M=s=>{o("update:modelValue",q(s))};return(s,m)=>(h(),I(d(N),P(p,{"mask-options":B.value,"model-value":z.value,inputmode:O.value,"onUpdate:modelValue":M}),A({_:2},[s.$slots.left?{name:"left",fn:V(()=>[S(s.$slots,"left")]),key:"0"}:void 0,s.$slots.right?{name:"right",fn:V(()=>[S(s.$slots,"right")]),key:"1"}:void 0]),1040,["mask-options","model-value","inputmode"]))}}),ne={class:"ark-group ark-group_row",style:{"--ark-group-radius":"var(--ark-radius-m)"}},le=b({__name:"InputCount",props:{modelValue:{},label:{},size:{},required:{type:Boolean},min:{default:0},hasCleaner:{type:Boolean}},emits:["update:modelValue"],setup(u,{emit:l}){const p=u,o=l,{min:t}=$(p),a=e=>{const r=p.modelValue||0;o("update:modelValue",E(r+e,t.value,1/0))};return(e,r)=>(h(),L("div",ne,[_(d(se),{style:{flex:"1"},required:e.required,label:e.label,size:e.size,"has-cleaner":e.hasCleaner,"model-value":e.modelValue,"onUpdate:modelValue":r[0]||(r[0]=n=>o("update:modelValue",n))},null,8,["required","label","size","has-cleaner","model-value"]),k("section",{class:Z(e.$style.section)},[k("button",{type:"button",onClick:r[1]||(r[1]=n=>a(1))},[_(d(g),{name:"plus",size:16})]),k("button",{type:"button",onClick:r[2]||(r[2]=n=>a(-1))},[_(d(g),{name:"minus",size:16})])],2)]))}}),re="_section_qmewm_1",ue={section:re},pe={$style:ue},de=X(le,[["__cssModules",pe]]);export{de as I,ce as _};
