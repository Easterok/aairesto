import{ap as b,ad as S,ac as w,R as N}from"./index-6367d8ff.js";function g(r,e,s){return b((r-e)*100/(s-e),0,100)}function $(r,e){return Math.abs(r.start.valueOf()-e.start.valueOf())<30*S}function y(r,e){return r.start<e.end&&r.end>e.start&&!$(r,e)}function O(r,e){if(!e)return 1e7;const s=e.start.valueOf()-r.start.valueOf();return s>=w?1e7:Math.floor(s/(S*9))}function I(r,e,s,_=!1){return r.map(n=>{const l=new Array(n.length).fill(1),h=new Array(n.length).fill(0),c=new Array(n.length).fill(null);n.forEach((a,t)=>{for(let o=t+1;o<n.length;o++){const f=n[o];$(a,f)?(l[t]+=1,l[o]+=1,h[o]+=1):c[t]||(c[t]=f)}});const u=new Array(n.length).fill(0);return n.map((a,t)=>{const o=a.start.toLocalNativeDate().valueOf(),f=a.end.toLocalNativeDate().valueOf(),p=g(o,e,s),v=g(f,e,s);for(let i=t-1;i>-1;i--){const m=n[i];if(y(m,a)){u[t]+=u[i]+1;break}}return _?{start:a.start,end:a.end,style:{top:`calc(${100/l[t]*h[t]}% + ${u[t]*4}px)`,height:`calc(${100/l[t]}% - ${u[t]*4}px)`,left:`${p}%`,width:`${v-p}%`,"--ark-line-clamp-count":`${O(a,c[t])}`},original:a}:{start:a.start,end:a.end,style:{left:`calc(${100/l[t]*h[t]}% + ${u[t]*4}px)`,width:`calc(${100/l[t]}% - ${u[t]*4}px)`,top:`${p}%`,height:`${v-p}%`,"--ark-line-clamp-count":`${O(a,c[t])}`},original:a}})})}const D=[{number:"Stub 1",reservations:[],orders:[],active:!0,capacity:0,zone:"",id:"-1"},{number:"Stub 2",reservations:[],orders:[],active:!0,capacity:0,zone:"",id:"-2"}],L=new Array(3).fill("").map((r,e)=>({id:-e,end_time:new Date().toJSON(),name_for_reservation:"Stub",num_people:1,phone_number:"+79999999999",seating_time:new Date().toJSON(),created:new Date().toJSON(),status:N.NEW,comment:"",tables:[],change_reservation:!1,required_zone:null,restaurant:-1,tags:[]}));export{L as b,g as c,I as p,D as s};
