import{d as f,l as g,r as d,b as x,e as y,o as h,c as k,a,h as l,aG as C,i as r,S as b,t as p,n as c,s as S,j as $,x as z,_ as B}from"./index-f01f95e2.js";import{P as I}from"./index-9b5bd4ab.js";const M={class:"ark-text_semibold"},U={class:"ark-text_body-xs ark-text_64"},w=f({__name:"UndoAlert",props:{context:{}},setup(v){const o=v,i=g(),n=d(!1),s=d(70),_=x(()=>Math.round(s.value/10));let t=null;const u=()=>{t&&(clearInterval(t),t=null)};y(()=>{t=setInterval(()=>{s.value=s.value-1,s.value===-1&&(u(),o.context.close())},100)});const m=()=>{u(),n.value=!0,o.context.data.callback().then(()=>{i.show("Отменили действие"),o.context.close()}).catch(()=>{i.show("Попробуй еще раз",{type:"error",label:"Не удалось отменить действие"})}).finally(()=>{n.value=!1})};return(e,q)=>(h(),k("div",null,[a("div",{class:c(e.$style.content)},[l(r(b),{style:C({color:e.context.data.iconColor||"var(--ark-alert-icon-color)"}),name:e.context.data.icon||"check"},null,8,["style","name"]),a("span",M,p(e.context.data.title),1)],2),a("div",{class:c(e.$style.content)},[l(r(z),{appearance:"dark",size:"xs",loading:n.value,onClick:m},{default:S(()=>[$(" Отменить ")]),_:1},8,["loading"]),a("p",U," Закроем через "+p(_.value)+" сек ",1)],2),l(r(I),{size:"xs",class:c(e.$style.progress),value:s.value,max:70},null,8,["class","value"])]))}}),A="_content_1uqgf_1",N="_progress_1uqgf_10",P={content:A,progress:N},V={$style:P},E=B(w,[["__cssModules",V]]);export{E as U};
